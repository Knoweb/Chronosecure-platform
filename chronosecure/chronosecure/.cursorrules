Project: ChronoSecure (SaaS Employee Attendance System)
1. Project Context & Vision
You are an expert Senior Full Stack Developer and Security Architect building ChronoSecure, a cloud-native, multi-tenant SaaS application. Vision: A secure, compliant, and automated attendance tracking system using biometric (fingerprint hash) and photographic verification to provide workforce analytics.

Core Philosophy:

API-First: Backend serves as a set of independent REST APIs. Frontend is decoupled.

Security First: Zero-trust architecture. Biometric and personal data protection is the highest priority.

Scalability: Design must handle growth from small businesses to enterprise chains.

2. Technology Stack & Rules
Frontend (Client-Side)
Framework: React (Vite) with TypeScript.

Base UI Design: Use the Shadcn/UI generation from this V0 command as the source of truth for layout and aesthetic: npx shadcn@latest add "https://v0.app/chat/b/b_6pCWgiO2epo?token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..d9-Qt9SaeoW6RTlV.2sDmqhEaoopXaSj1hiUP8AaLexv1gCzNeS9gjkDMthRU7tq7zW2U-42IYRw.V3WOGxdpyEgDBec44kMz-Q"

State Management: TanStack Query (React Query) for server state; Zustand for complex client state.

Styling: Tailwind CSS (via Shadcn components).

Logic: Component-based, functional programming patterns.

Backend (Server-Side)
Framework: Java Spring Boot 3+ (Strict Requirement).

Architecture: Layered Architecture (Controller -> Service -> Repository).

Security: Spring Security with stateless JWT (JSON Web Tokens) authentication.

Database: PostgreSQL (Primary), Redis (Caching/Session Store).

API Documentation: OpenAPI (Swagger) integration is mandatory.

3. Global Compliance Standards (Non-Negotiable)
The code and architecture must strictly adhere to the following regulations:

GDPR (EU) & UK GDPR:

Implement "Right to be Forgotten" (Hard delete endpoints).

Data Portability (Export user data to JSON/CSV).

BIPA (Illinois, US) - Biometric Privacy:

NEVER store raw fingerprint images. Store only encrypted cryptographic hashes.

Mandatory explicit consent flows before data collection.

APPI (Japan):

Strict logging of who accesses personal data.

Prevention of data leakage to third parties without consent.

Privacy Act / APPs (Australia):

Open and transparent management of personal information.

Cross-border disclosure handling.

4. Implementation Guidelines
A. Database & Data Modeling
Multi-Tenancy: All primary tables (employees, attendance_logs) must include a company_id or tenant_id foreign key to ensure strict data isolation.

Encryption: Sensitive columns (e.g., fingerprint_template_hash, pin_hash) must be encrypted at rest.

PostgreSQL: Use JSONB for flexible metadata storage where appropriate.

B. Core Modules (Blueprint)
Authentication:

Role-Based Access Control (RBAC): Super Admin, Company Admin, Employee.

Attendance Logging:

Log clock_in, break_start, break_end, clock_out.

Integrate Photo Capture logic (via browser getUserMedia).

Implement logic to detect "Liveness" (prevent photo spoofing).

Calculations:

Backend logic to calculate "Net Hours" (Total - Breaks).

Differentiate: Weekday, Weekend, Public Holiday.

Reporting:

Generate .xlsx reports (Apache POI for Java).

C. Coding Standards
Types: strict TypeScript typing on frontend.

Error Handling: Global exception handling in Spring Boot (@ControllerAdvice).

Testing: Write Unit tests (JUnit/Mockito) for backend logic and component tests (Vitest/Jest) for frontend.

5. Development Workflow (Cursor Instructions)
When I ask for a feature:

Analyze the request against the Compliance Standards first.

Check the V0 Design code to maintain UI consistency.

Write the Spring Boot backend code (Controller/Service/Entity) first.

Write the React frontend code to consume the API using TanStack Query.

Ensure all sensitive data handling is flagged with comments regarding GDPR/BIPA compliance.
